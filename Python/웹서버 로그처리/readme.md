# 웹서버 로그 처리

아파치 웹서버가 기록한 접근로그(access log)를 처리하여 웹사이트 방문자가 본 총 페이지뷰 수를 계산하는 프로그램을 작성해보세요.

문제에 사용하는 access_log 파일은 홈페이지에서 따로 받을 수 있습니다. 다운로드 받은 파일은 본 프로그램(.py)이 있는 폴더에 저장합니다.

방문자가 웹사이트에 접속하여 하나의 웹페이지를 볼 때마다 로그가 한줄 기록되지만, HTTP 상태코드가 200번대인 정상 응답에 대해서 유효하므로, 접근로그에서 상태코드가 200번대인 라인을 찾아 모두 더하면 방문자가 정상적으로 본 총 페이지 수가 됩니다.

## 필요한 사전 지식

우리는 인터넷 익스플로러나 크롬 등과 같은 인터넷 웹브라우저로 웹서버에 접속하여 다양한 콘텐츠를 이용합니다. 웹서버는 웹브라저의 요청에 대해 필요한 작업을 수행하고 HTML 페이지를 구성한 후 웹브라우저로 응답합니다. 이때 웹서버는 웹브라우저의 요청에 대한 응답 내용을 요약하여 접근로그(access log) 파일에 기록합니다.

오픈소스인 아파치 웹서버는 많은 웹사이트에서 사용하는 인기 있는 웹서버입니다. 아파치 웹서버가 기록하는 접근로그 파일의 일반적인 로그 형식은 다음과 같습니다.

127.0.0.1 - - [01/Oct/2016:13:55:36 +0900] "GET /apache_pb.gif HTTP/1.0" 200 2326

' 127.0.0.1 '                       : 웹서버로 요청한 클라이언트 IP   
' - '                            : 무시해도 됨   
' - '                            : HTTP 인증에 따른 요청 사용자의 ID. 무시해도 됨   
' [01/Oct/2016:13:55:36 +0900] '      : 웹서버가 응답한 시간. +0900은 협정 세계시(UTC) 기준 +9시간을 의미함   
' "GET /apache_pb.gif HTTP/1.0" '    : 클라이언트의 요청줄(Request Line)  
' 200 '                           : HTTP 상태코드  
' 2326 '                          : 웹서버가 제공한 콘텐츠 크기(바이트)  

아파치 웹서버 로그는 일반 접근로그에 레퍼러(referer)와 User-Agent 요청헤더 두 개의 항목을 추가한 복합 접근로그(combined log)형식도 지원합니다. 아파치 웹서버 로그에 대한 자세한 내용은 다음의 링크를 참조하기 바랍니다.

https://httpd.apache.org/docs/2.2/ko/logs.html

